# ðŸ¤– Chat with SQL Database using LangChain & Streamlit

This project provides an interactive chat interface to query structured data stored in SQL databases (SQLite or MySQL) using **LangChain** with a **GROQ LLaMA-3 model**.  It leverages a natural language interface to convert user questions into SQL queries and retrieve results seamlessly.

Demo link :- [streamlit_app](https://karthik06-git-chat-with-sql-db-app-7t3xsi.streamlit.app/)

The deployed app may not support to use MySQL database. If you want to interact with your specific MySQL database server, first setup the project in the local machine and then run it. 

---

## Features

- **Dual Database Support** â€“ Switch between:
  - Local **SQLite** database (`student.db`)
  - External **MySQL** database
- **Natural Language to SQL** â€“ Ask questions in plain English; the app generates and executes SQL queries.
- **Streamlit Chat UI** â€“ Clean and interactive conversation interface.
- **Stateful Conversations** â€“ Maintains chat history during the session.
- **Customizable Database Connection** â€“ Easily configure connection details for MySQL.
- **Secure API Key Handling** â€“ Enter and manage your GROQ API key through the sidebar.

---

## Tech Stack

- **Frontend/UI**: [Streamlit](https://streamlit.io/)  
- **LLM Orchestration**: [LangChain](https://www.langchain.com/)  
- **LLM Provider**: [GROQ](https://groq.com/) â€“ using `llama3-8b-8192` model  
- **Database**: SQLite / MySQL  

---

## Project Structure

```
Chat_with_SQL_DB
â”‚
â”œâ”€â”€ app.py             # Main Streamlit application
â”œâ”€â”€ sqlite.py          # Script to create and populate SQLite database
â”œâ”€â”€ student.db         # Local SQLite database (auto-generated by sqlite.py)
â”œâ”€â”€ mysql_setup.sql    # SQL script to create and populate MySQL database
â”œâ”€â”€ requirements.txt   # Libraries to be installed in venv
â””â”€â”€ README.md
```


---

## âž¤ How it Works ?

1. **Select Database Source**  
   - Choose between:
     - **SQLite** (`student.db`) â€“ included in the repo and generated via `sqlite.py`
     - **MySQL** â€“ requires host, user, password, and database name
2. **Enter GROQ API Key**  
   - Required to run the LLaMA-3 model via `ChatGroq`
3. **LLM Initialization**  
   - The selected model is wrapped by LangChain to process queries and generate SQL
4. **Database Connection**  
   - Uses SQLAlchemy to connect to the selected database
5. **Natural Language Query**  
   - User enters a question â†’ LangChain agent converts it into SQL â†’ Executes on the DB
6. **Display Results**  
   - Query results are shown in the chat interface

---

## Workflow Diagram

```
User Query (Natural Language)
        â†“
LangChain SQL Agent (LLM: LLaMA-3 via GROQ)
        â†“
SQL Query Generation
        â†“
Database Execution (SQLite/MySQL)
        â†“
Results Returned to UI
```

---

## âž¤ How to setup & run ?

1. Clone this repository.
   ```bash
   git clone https://github.com/Karthik06-Git/Chat_with_SQL_DB.git
   ```
2. Create and activate a Conda environment

   ```bash
   conda create -p venv python==3.10 -y
   conda activate venv/
   ```
3. Install dependencies by running:
   ```bash
   pip install -r requirements.txt
   ```

4. Set up your GROQ_API_KEY in a .env file.
5. Run the Streamlit app using:
    ```bash
    streamlit run app.py
    ```
6. Choose between the local SQLite database or provide MySQL connection details to start querying!

---

### Output snaps :-

1) Initial UI of app (when GROQ-API key is not yet specified)

![image1](https://github.com/Karthik06-Git/Dummy_Repo/blob/main/output_snaps/img_1.png)

2) After entering GROQ-API key, it shows the chat interface (now you can chat with the SQL-assistant)
   
![image2](https://github.com/Karthik06-Git/Dummy_Repo/blob/main/output_snaps/img_2.png)

3) Asking to display all the records present in the student table (from local SQLite-db) 

![image1](https://github.com/Karthik06-Git/Dummy_Repo/blob/main/output_snaps/img_3.png)

4) Asking to get the student names whose marks are greater than 90 

![image1](https://github.com/Karthik06-Git/Dummy_Repo/blob/main/output_snaps/img_4.png)

5) Provide MySQL Database details to use 

![image1](https://github.com/Karthik06-Git/Dummy_Repo/blob/main/output_snaps/img_5.png)






